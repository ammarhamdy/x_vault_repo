
https://k6.io/

https://grafana.com/docs/k6/latest/

---

# `k6` options


```js
export const options = {
    vus: 1000,          // Number of virtual users
    iterations: 1000,   // Total number of iterations
    rps: 50,            // Requests per second (rate limiter)
};
```
- Run with 1000 virtual users
- Make 1000 requests in total
- Throttle to 50 requests per second

## `vus: 1000`
- Launches **1000 concurrent virtual users (VUs)**.
- Each VU runs the `default` function.
- If used **`alone`**, it runs them **indefinitely** unless a `duration` or `iterations` limit is specified.

## `iterations: 1000`
- This means: ==run exactly 1000 iterations total==, shared across all VUs.
- With `vus: 1000`, each VU would run **==1 iteration==**, then stop.
- The test exits once all 1000 iterations complete.

> So: This setup ==does not create 1000 iterations per VU== — it’s ==1000 total iterations==, not `1000 × 1000`.

## `rps: 50`
- Limits the global request rate to ==50 requests per second==.
- It **throttles الخانق** ==how fast== `k6` ==sends requests across all VUs==.
- Useful to simulate realistic traffic or avoid overwhelming a system under test.

> ❗ This works only in shared-iterations and open-loop scenarios — it might be ==ignored== or ==require specific execution mode== (e.g., via `scenarios`) to work predictably.

## `maxDuration: '1m'`
If all iterations **don’t finish in 1 minute**, the test will **forcefully stop**.
It's a timeout or a fail-safe limit for the scenario.
Why Is `maxDuration` Important?
- Prevents tests from hanging forever if the system is slow or broken.
- Lets you run bounded tests when iteration time is unpredictable.
- Useful in CI/CD pipelines to keep jobs from running too long.

