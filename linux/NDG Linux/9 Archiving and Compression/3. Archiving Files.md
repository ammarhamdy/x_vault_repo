

## Why archiving:
+ If you had several files to send to someone, you could choose to compress each one individually. 
+ You would have a smaller amount of data in total than if you sent uncompressed files, however, you would still have to deal with many files at one time.
+ Archiving is the solution to this problem.


## `tar` command:
 + The traditional UNIX utility to archive files is called `tar`, which is a short form of ==TApe aRchive==. 
 + It was used to stream many files to a tape for backups or file transfer. 
 + The `tar` command takes in several files and creates a single output file that can be split up again into the original files on the other end of the transmission.


### Modes of `tar` command:
 + The `tar` command has three modes that are helpful to become familiar with:
	- **Create**: Make a new archive out of a series of files.
	- **Extract**: Pull one or more files out of an archive.
	- **List**: Show the contents of the archive without extracting.
 


----
# Create Mode


```
tar -c [-f ARCHIVE] [OPTIONS] [FILE...]
```

Creating an archive with the `tar` command requires two named options:

|Option|Function|
|---|---|
|`-c`|Create an archive.|
|`-f ARCHIVE`|Use archive file.<br><br>The argument `ARCHIVE` will be the name of the resulting archive file.|


## Example:
+ The following example shows a tar file, also called a tarball, being created from multiple files. 
+ The first argument creates an archive called `alpha_files.tar`.
+ The wildcard option `*` is used to include all files that begin with `alpha` in the archive:
```bash
abc@abc:~/Documents$ tar -cf alpha_files.tar alpha*
```


## Compress the tarball:
+ The final size of `alpha_files.tar` is `10240` bytes. Normally, tarball files are slightly larger than the combined input files due to the overhead information on recreating the original files. 
+ Tarballs can be compressed for easier transport, either by using `gzip` on the archive or by having `tar` do it with the `-z` option.

|Option|Function|
|---|---|
|`-z`|Compress (or decompress) an archive using the `gzip` command.|
![[Pasted image 20240223172432.png]]


## Use `bzips` compression:
+ The `bzip2` compression can be used instead of `gzip` by substituting the `-j` option for the `-z` option and using `.tar.bz2`, `.tbz`, or `.tbz2` as the file extension.


|Option|Function|
|---|---|
|`-j`|Compress (or decompress) an archive using the `bzip2` command.|
```bash
sysadmin@am:~/Documents$ tar -cjf folders.tbz School
```



---
# List Mode


```
tar -t [-f ARCHIVE] [OPTIONS]
```

Given a `tar` archive, compressed or not, you can see what’s in it by using the `-t` option.

| Option       | Function                            |
| ------------ | ----------------------------------- |
| `-t`         | List the files in an archive.       |
| `-j`         | Decompress with an `bzip2` command. |
| `-f ARCHIVE` | Operate on the given archive.       |


##  Example:
+ To list the contents of the `folders.tbz` archive:
```bash
sysadmin@localhost:~/Documents$ tar -tjf folders.tbz
School/
School/Engineering/
School/Engineering/hello.sh
School/Art/
School/Art/linux.txt
School/Math/
School/Math/numbers.txt
```



---
# Extract Mode


```
tar -x [-f ARCHIVE] [OPTIONS]
```

| Option       | Function                             |
| ------------ | ------------------------------------ |
| `-x`         | Extract files from an archive.       |
| `-j`         | Decompress with the `bzip2` command. |
| `-f ARCHIVE` | Operate on the given archive.        |
| `-v`         | Verbosely list the files processed.  |
```
tar -xjf folders.tbz
```

It is important to keep the `–f` flag at the end, as `tar` assumes whatever follows this option is a file name.

If you only want some files out of the archive, add their names to the end of the command, but by default, they must match the name in the archive exactly, or use a pattern.