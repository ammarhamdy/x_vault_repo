

Regular expressions, also referred to as regex, are a collection of normal and special characters that are used to find simple or complex patterns, respectively, in files.
These characters are characters that are used to perform a particular matching function in a search.


## Two type of regex:
+ There are both Basic Regular Expressions (available to a wide variety of Linux commands) and Extended Regular Expressions (available to more advanced Linux commands). 
+ Basic Regular Expressions include the following:

| Character | Matches                                                                                                                                                         |
| --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `.`       | Any single character                                                                                                                                            |
| `[ ]`     | A list or range of characters to match one character<br><br>If the first character within the brackets is the caret `^`, it means any character not in the list |
| `*`       | The previous character repeated zero or more times                                                                                                              |
| `^`       | If the first character in the pattern, the pattern must be at the beginning of the line to match, otherwise just a literal `^` character                        |
| `$`       | If the last character in the pattern, the pattern must be at the end of the line to match, otherwise just a literal `$` character                               |


## Always use quotes:
+ While some of the regular expressions are unnecessarily quoted with single quotes, it is good practice to use single quotes around regular expressions to prevent the shell from trying to interpret special meaning from them.



---
# The Period `.` Character


One of the most useful expressions is the period `.` character.
It matches any character except for the new line character.


```
sysadmin@localhost:~/Documents$ cat red.txt
red
reef
rot
reeed
rd
rod
roof
reed
root
reel
read   
```


## Example :
+ The pattern `r..f` would find any line that contained the letter `r` followed by exactly two characters and then the letter `f`:
```bash
sysadmin@localhost:~/Documents$ grep 'r..f' red.txt
reef
roof
```
+ The line does not have to be an exact match, it simply must contain the pattern, as seen here when `r..t` is searched for in the `/etc/passwd` file:
```bash
sysadmin@localhost:~/Documents$ grep 'r..t' /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:1000:37::/root:
```
+ The period character can be used any number of times. To find all words that have at least four characters, the following pattern can be used:
```bash
sysadmin@localhost:~/Documents$ grep '....' red.txt
reef
reeed
roof
reed
root
reel
read
```



---
# The Bracket `[ ]` Characters



## Range:
+ The square brackets `[` `]` match a single character from the list or range of possible characters contained within the brackets. 
+ For example, given the `profile.txt` file:
```shell
sysadmin@localhost:~/Documents$ cat profile.txt
Hello my name is Joe.
I am 37 years old.
3121991
My favorite food is avocados.
I have 2 dogs.
123456789101112
```
+ To find all the lines which have a number in them, use the pattern `[0123456789]` or `[0-9]`:
```
sysadmin@localhost:~/Documents$ grep '[0-9]' profile.txt
I am 37 years old.
3121991
I have 2 dogs.
123456789101112
```
+ The range is specified by a standard called the ASCII table.
+ To find all the lines which contain any non-numeric characters, insert a `^` as the first character inside the brackets.
```shell
grep '[^0-9]' profile.txt
```



---
# The Asterisk `*` Character


The asterisk `*` character is used to match zero or more occurrences of a character or pattern preceding it. 
For example, `e*` would match zero or more occurrences of the letter `e`:

```shell
sysadmin@localhost:~/Documents$ cat red.txt
red
reef
rot
reeed
rd
rod
roof
reed
root
reel
read
sysadmin@localhost:~/Documents$ grep 're*d' red.txt
red
reeed
rd
reed
```



---
# Anchor Characters


When performing a pattern match, the match could occur anywhere on the line.
Anchor characters are one of the ways regular expressions can be used to narrow down search results.
They specify whether the match occurs at the beginning of the line or the end of the line.

The caret (circumflex) `^` character is used to ensure that a pattern appears at the beginning of the line.

The second anchor character `$` can be used to ensure a pattern appears at the end of the line



---
# The Backslash `\` Character


In some cases, you may want to match a character that happens to be a special regular expression character.

```sh
grep 're*' newhome.txt
```

In the output of the `grep` command above, the search for `re*` matched every line which contained an `r` followed by zero or more of the letter `e`. 
To look for an actual asterisk `*` character, place a backslash `\` character before the asterisk `*` character:

```sh
 grep 're\*' newhome.txt
```



----
# Extended Regular Expressions


The use of extended regular expressions often requires a special option be provided to the command to recognize them. 
Historically, there is a command called `egrep`, which is similar to `grep`, but can understand extended regular expressions. 
Now, the `egrep` command is deprecated in favor of using `grep` with the `-E` option.


The following regular expressions are considered extended:

| Character | Meaning                                                                     |
| --------- | --------------------------------------------------------------------------- |
| `?`       | Matches previous character zero or one time, so it is an optional character |
| `+`       | Matches previous character repeated one or more times                       |
| \|        | Alternation or like a logical "or" operator                                 |


To match `colo` followed by zero or one `u` character followed by an `r` character:
```sh
grep -E 'colou?r' spelling.txt
```


To match one or more `e` characters:
```sh
grep -E 'e+' red.txt
```


To match either `gray` or `grey`:
```sh
grep -E 'gray|grey' spelling.txt
```