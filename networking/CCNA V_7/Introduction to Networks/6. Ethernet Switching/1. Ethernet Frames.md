## Ethernet Encapsulation


### What is an ethernet:
+ Ethernet is one of two LAN ==**technologies**== used today.
+ Ethernet uses wired communications, including twisted pair, fiber-optic links, and coaxial cables.


### Where is an ethernet:
+ **==Ethernet operates in the data link layer and the physical layer.==**
+ It is a family of networking technologies defined in the IEEE 802.2 and 802.3 standards.
+ ![[Pasted image 20230314141441.png]]


### Band width of ethernet:
+ Ethernet supports data bandwidths of the following:
+ 10 Mbps.
+ 100 Mbps
+ 1000 Mbps (1 Gbps).
+ 10,000 Mbps (10 Gbps).
+ 40,000 Mbps (40 Gbps).
+ 100,000 Mbps (100 Gbps).



---
## Data Link Sub-layers:
+ IEEE 802 LAN/MAN protocols, including Ethernet, use the following two separate sub-layers of the data link layer to operate:
	+ The **Logical Link Control** (LLC).
	+ The **Media Access Control** (MAC).


### LLC Sublayer for compatibility:
+  IEEE 802.2 sublayer communicates between the networking ***software*** at the upper layers and the device ***hardware*** at the lower layers.
+ This It places information in the frame that identifies which network layer protocol is being used for the frame.
+ This information allows multiple Layer 3 protocols, such as IPv4 and IPv6, to use the same network interface and media.


### MAC Sublayer For encapsulation:
+ This sublayer (IEEE 802.3, 802.11, or 802.15 for example) is implemented in hardware.
+ Is responsible for:
	+ Data encapsulation.
	+ Media access control (accessing the media.).
+ It provides data link layer addressing and is integrated with various physical layer technologies.


### LLC vs MAC:
+ LLC:
	+ communicates between software at the upper layers and the device hardware at the lower layers.
	+ allows multiple Layer 3 protocols to use the same network interface and media.
+ MAC:
	+ controls access to the media.
	+ checks for errors in received bits.
	+ uses CSMA/CD or CSMA/CA to support Ethernet technology.


### MAC Sublayer IEEE 802.3:
+ IEEE 802.3 data encapsulation includes the following:
	+ **Ethernet frame**:
		+ This is the internal structure of the Ethernet frame.
	+ **Ethernet Addressing**:
		+ The Ethernet frame includes both a source and destination MAC address to deliver the Ethernet frame from Ethernet NIC to Ethernet NIC on the same LAN.
	+ **Ethernet Error detection**:
		+ =**The Ethernet frame includes a frame check sequence (FCS) trailer used for error detection.**=



---
## Ethernet Standards in the MAC Sublayer:
+ the IEEE 802.3 MAC sublayer includes the specifications for different Ethernet communications standards over various types of media including copper and fiber.
+ ![[Pasted image 20230314142759.png]]


### IEEE 802.3 Standards:
+ IEEE 802.3z   Gigabit Ethernet   over Fiber.
+ IEEE 802.3ab  Gigabit Ethernet   over Copper.
+ IEEE 802.3u   Fast Ethernet.
+ IEEE 802.3ae  10 Gigabit Ethernet  over Fiber.


### Ethernet working with switches:
+ Ethernet LANs of today use switches that operate in full-duplex. 
+ Full-duplex communications with Ethernet switches do not require access control through CSMA/CD.



---
## Ethernet Frame Fields


### Size of ethernet frame:
+ **==The minimum Ethernet frame size is 64 bytes and the expected maximum is 1518 bytes.==**
+ This includes all bytes from the destination MAC address field through the frame check sequence (FCS) field.
+ The preamble (مقدمة) field is not included when describing the size of the frame.
+ The frame size may be larger if additional requirements are included, such as virual local eara network tagging (VLAN tagging).
+ Any frame less than 64 bytes in length is considered a “collision fragment” or “runt frame” and is automatically discarded by receiving stations.
+ Frames with more than 1500 bytes of data are considered “jumbo” or “baby giant frames”.


### Drop or not:
+ If the size of a transmitted frame is less than the minimum, or greater than the maximum, the receiving device drops the frame.
+ Jumbo frames are usually supported by most Fast Ethernet and Gigabit Ethernet switches and NICs.


### Ethernet Frame Fields:
+ Preamble and Start Frame Delimiter Fields.
+ Destination MAC Address Field.
+ Source MAC Address Field.
+ Type / Length.
+ Frame Check Sequence Field.


#### Preamble (مقدمة) and Start Frame Delimiter Fields:
+ The Preamble (**==7 bytes==**) and Start Frame Delimiter (SFD), also called the Start of Frame (1 byte).
+ Used for synchronization between the sending and receiving devices.
+ These first eight bytes of the frame are used to get the attention of the receiving nodes.
+ Essentially, the first few bytes tell the receivers to get ready to receive a new frame.


#### Destination MAC Address Field:
+ This **==6-byte==** field is the identifier for the intended recipient (مستلم).
+ This address is used by Layer 2 to assist devices in determining if a frame is addressed to them.
+ The address in the frame is compared to the MAC address in the device.
+ If there is a match, the device accepts the frame.
+ Can be a unicast, multicast or broadcast address.


#### Source MAC Address Field:
+ This **==6-byte==** field identifies the originating NIC or interface of the frame.


#### Type / Length:
+ This **==2-byte==** field identifies the upper layer protocol encapsulated in the Ethernet frame.
+ Common values are, in hexadecimal:
	+ `0x800` for IPv4. 
	+ `0x86DD` for IPv6.
	+ `0x806` for ARP.
+ You may also see this field referred to as EtherType, Type, or Length.


#### Data Field:
+ This field (**==46 - 1500 bytes==**) contains the encapsulated data from a higher layer.
+ Which is a generic Layer 3 PDU, or more commonly, an IPv4 packet.
+ All frames must be at least 64 bytes long.
+ If a small packet is encapsulated, additional bits called a pad are used to increase the size of the frame to this minimum size.


#### Frame Check Sequence Field:
+ The Frame Check Sequence (FCS) field (**==4 bytes==**) is used to detect errors in a frame.
+ It uses a cyclic redundancy check (CRC).
+ The sending device includes the results of a CRC in the FCS field of the frame.
+ The receiving device receives the frame and generates a CRC to look for errors.
+ If the calculations match, no error occurred.
+ Calculations that do not match are an indication that the data has changed; therefore, the frame is dropped.
+ A change in the data could be the result of a disruption of the electrical signals that represent the bits.

