## Frame Forwarding Methods:
+ switches use their MAC address tables to determine which port to use to forward frames.
+ With Cisco switches, there are actually two frame forwarding methods:
	+ **Store-and-forward switching**.
	+ **Cut-through switching**.


### Store-and-forward switching:
+ This frame forwarding method receives the entire frame and computes the CRC (cyclic redundancy check).
+ CRC uses a mathematical formula, based on the number of bits (1s) in the frame, to determine whether the received frame has an error.
+ If the CRC is valid, the switch looks up the destination address, which determines the outgoing interface.
+ Then the frame is forwarded out of the correct port.
+ Discarding frames with errors reduces the amount of bandwidth consumed by corrupt data.
+ Store-and-forward switching is required for quality of service (QoS)


### Cut-through switching:
+ This frame forwarding method forwards the frame before it is entirely received.
+ At a minimum, the destination address of the frame must be read before the frame can be forwarded.
+ The switch buffers just enough of the frame to read the destination MAC address so that it can determine to which port it should forward out the data.


### Two variants of cut-through switching:
+ **Fast-forward switching**.
+ **Fragment-free switching**.


### Fragment-free switching:
+ Fast-forward switching offers the lowest level of latency (وقت الإستجابة).
+ Fast-forward switching *immediately* forwards a packet after reading the destination address.
+ Because fast-forward switching starts forwarding before the entire packet has been received.
+ In fast-forward mode, latency is measured from the first bit received to the first bit transmitted.
+ Fast-forward switching is the typical cut-through method of switching.


### Fragment-free switching:
+ In fragment-free switching, the switch stores the first 64 bytes of the frame before forwarding. 
+ Fragment-free switching can be viewed as a compromise (مساومة) between store-and-forward switching and fast-forward switching.
+ The reason fragment-free switching stores only the first 64 bytes of the frame is that most network errors and collisions occur during the first 64 bytes. 
+ Fragment-free switching tries to enhance fast-forward switching.


## Memory Buffering on Switches:
+ An Ethernet switch may use a buffering technique to store frames before forwarding them.
+ Buffering may also be used when the destination port is busy because of congestion. 
+ The switch stores the frame until it can be transmitted.
+ there are two methods of memory buffering:
	+ Port-based memory.
	+ Shared memory.


### Port-based memory:
+ Frames are stored in queues that are linked to specific incoming and outgoing ports (each port have a queue).
+ A frame is transmitted to the outgoing port only when all the frames ahead in the queue have been successfully transmitted.
+ It is possible for a single frame to delay the transmission of all the frames in memory because of a busy destination port.
+ This delay occurs even if the other frames could be transmitted to open destination ports.


### Shared memory:
+ Deposits (الودائع) all frames into a common memory buffer shared by all switch ports and the amount of buffer memory required by a port is dynamically allocated.
+ The frames in the buffer are dynamically linked to the destination port enabling a packet to be received on one port and then transmitted on another port, without moving it to a different queue.



### Asymmetric switching:
+ Shared memory buffering also results in the ability to store larger frames with potentially fewer dropped frames. 
+ This is important with asymmetric switching which allows for different data rates on different ports such as when connecting a server to a 10 Gbps switch port and PCs to 1 Gbps ports.



## Duplex and Speed Settings:
+ Two of the most basic settings on a switch are the bandwidth (sometimes referred to as “speed”) and duplex settings for each individual switch port.
+ It is critical that the duplex and bandwidth settings **match** between the switch port and the connected devices.
+ There are two types of duplex settings used for communications on an Ethernet network:
	+ Full-duplex:
		+ Both ends of the connection can send and receive simultaneously.
	+ Half-duplex:
		+ Both ends of the connection can send and receive simultaneously.


### Autonegotiation:
+ Autonegotiation is an optional function found on most Ethernet switches and NICs.
+ It enables two devices to automatically negotiate the best speed and duplex capabilities.
+ Full-duplex is chosen if both devices have the capability along with their highest common bandwidth.
+ For example:
	+ PC-A is connected to switch S2 on port 1, which can operate in full-duplex or half-duplex, and in 10 Mbps, 100 Mbps or 1000 Mbps (1 Gbps). 
	+ If both devices are using autonegotiation, the operating mode will be full-duplex and 100 Mbps.
+ Most Cisco switches and Ethernet NICs default to autonegotiation for speed and duplex. 
+ Gigabit Ethernet ports only operate in full-duplex.


### Duplex mismatch:
+ Duplex mismatch occurs when one or both ports on a link are reset, and the autonegotiation process does not result in both link partners having the same configuration. 
+ It also can occur when users reconfigure one side of a link and forget to reconfigure the other.
+ Both sides of a link should have autonegotiation on, or both sides should have it off.



## Auto-MDIX:
+ Auto-MDIX is a feature that is enabled on the latest Cisco switches and that allows the switch to detect and use whatever type of cable is attached to a specific port.
+ Automatic medium-dependent interface crossover (auto-MDIX).
+ The type of cable required depended on the type of interconnecting devices.
+ A crossover cable is used when connecting like devices.
+ A straight-through cable is used for connecting unlike devices.
+ ![[Pasted image 20230319211647.png]]
+ When Auto-MDIX is enabled, the switch automatically detects the type of cable attached to the port and configures the interfaces accordingly.
+ Therefore, you can use either a crossover or a straight-through cable for connections to a copper 10/100/1000 port on the switch, regardless of the type of device on the other end of the connection.

