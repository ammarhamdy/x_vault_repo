

## Addresses:
+ The segmented messages will not go anywhere if they are not addressed properly.
+ The `network` and `data link` layers are responsible for delivering the data from the source device to the destination device.
+ ==Network layer== source and destination addresses:
	+ ==Responsible for delivering the **IP** **packet** from the original source to the final destination.==
	+ Which may be on the same network or a remote network.
+ ==Data link layer== source and destination addresses:
	+ ==Responsible for delivering the **data link** **frame** from one network interface card (NIC) to another NIC on the same network.==
+ ![[Pasted image 20230218142646.png]]


## Layer 3 Logical Address:
+ An IP address is the network layer, or Layer 3 (from bottom to top), logical address used to deliver the IP packet from the original source to the final destination.
+ ![[Pasted image 20230218142936.png]]


## Packet:
+ The IP packet contains two IP addresses:
	+ **Source IP address**.
	+ **Destination IP address**.
+ **Source IP address**:
	+ The IP address of the sending device.
+ **Destination IP address**:
	+ The IP address of the receiving device.
	+ Which is the **final** destination of the packet.


## An IP address contains two parts:
+ **Network portion (IPv4) or Prefix (IPv6)**:
	+ The left-most part of the address that indicates the network in which the IP address is a member.
	+ All devices on the same network will have the same network portion of the address.
+ **Host portion (IPv4) or Interface ID (IPv6)**:
	+ The remaining part of the address that identifies a specific device on the network.
	+ This portion is unique for each device or interface on the network.


## The subnet mask:
+ The subnet mask (IPv4) or prefix-length (IPv6) is used to identify the network portion of an IP address from the host portion.


## Devices on the Same Network:
+ **Source IPv4 address**:
	+ The IPv4 address of the sending device.
	+ The client computer PC1: `192.168.1.110`.
+ **Destination IPv4 address**:
	+ The IPv4 address of the receiving device.
	+ FTP server: `192.168.1.9`.
+ ![[Pasted image 20230218143504.png]]


## Data Link Layer Addresses (Same Network):
+ On an Ethernet network, the data link addresses are known as Ethernet Media Access Control (MAC) addresses.
+ MAC addresses are physically embedded on the Ethernet NIC.
+ ![[Pasted image 20230218143812.png]]
+ **Source MAC address**:
	+ The Ethernet MAC address, of the device that sends the data link frame with the encapsulated IP packet.
	+ The MAC address of the Ethernet NIC of PC1 is `AA-AA-AA-AA-AA-AA`, written in hexadecimal notation.
+ **Destination MAC address**:
	+ The destination MAC address is the MAC address of the FTP server: `CC-CC-CC-CC-CC-CC`.


## Data Link Layer Addresses (diff Network):
+ When the sender and receiver of the IP packet are on different networks, the Ethernet data link frame cannot be sent directly to the destination host.
+ The Ethernet frame must be sent to another device known as the router or default gateway.
+ ![[Pasted image 20230218172415.png]]
+ The default gateway is `R1`.
+ `R1` has an Ethernet data link address that is on the same network as `PC1`. 
+ This allows `PC1` to reach the router directly.
+ **Source MAC address**:
	+ The Ethernet MAC address of the sending device, `PC1`.
	+ The MAC address of the Ethernet interface of `PC1` is `AA-AA-AA-AA-AA-AA`.
+ **Destination MAC address**:
	+ ==When the receiving device, (the destination IP address) is on a different network from the sending device, the sending device uses the Ethernet MAC address of the default gateway or router.==
	+ The destination MAC address is the MAC address of the `R1` Ethernet interface, `11-11-11-11-11-11`.
+ It is important that the IP address of the default gateway be configured on each host on the local network.


## Role of the Network Layer Addresses:
+ When the sender of the packet is on a different network from the receiver, This will be indicated by the network portion of the IP address.
+ ![[Pasted image 20230218144436.png]]
+ **Source IPv4 address**: `PC1`: `192.168.1.110`.
+ **Destination IPv4 address**: Web Server: `172.16.1.99`.


## Data Link Addresses:
+ Travel from `pc` to server steps:
	+ From `pc` to router.
	+ ![[Pasted image 20230218173156.png]]
	+ From router to router.
	+ ![[Pasted image 20230218173214.png]]
	+ From router tp server.
	+ ![[Pasted image 20230218173232.png]]
+ For each step the data link header will be changed.

